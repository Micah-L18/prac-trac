<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Roster - PracTrac</title>
    <link rel="stylesheet" href="/css/glass-style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; }
        .player-card {
            background: var(--glass-secondary);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .player-card:hover {
            transform: translateY(-3px);
            border-color: var(--accent-orange);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        .player-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-orange), var(--accent-blue));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 700;
            color: white;
            margin-bottom: var(--spacing-md);
        }
        .player-position {
            background: var(--accent-orange);
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .stat-mini {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-xs) 0;
            border-bottom: 1px solid var(--glass-border-light);
        }
        .stat-mini:last-child {
            border-bottom: none;
        }
        .jersey-number {
            position: absolute;
            top: var(--spacing-md);
            right: var(--spacing-md);
            background: var(--glass-primary);
            color: var(--accent-orange);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 18px;
            border: 2px solid var(--accent-orange);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav-container">
        <div class="nav-glass">
            <a href="/" class="logo">üèê PracTrac</a>
            <ul class="nav-links">
                <li><a href="/">Dashboard</a></li>
                <li><a href="/practice">Practice Plans</a></li>
                <li><a href="/roster" class="active">Roster</a></li>
                <li><a href="/drills">Drills</a></li>
                <li><a href="/videos">Videos</a></li>
                <li><a href="/analytics">Analytics</a></li>
            </ul>
        </div>
    </nav>

    <main class="main-container">
        <!-- Header -->
        <section class="flex-between mb-xl">
            <div>
                <h1 style="font-size: var(--font-size-3xl); font-weight: 700; color: var(--text-primary); margin-bottom: var(--spacing-sm);">
                    Team Roster
                </h1>
                <p style="color: var(--text-secondary); font-size: var(--font-size-lg);">
                    Riverside High Volleyball ‚Ä¢ Fall 2025 Season
                </p>
            </div>
            <button class="glass-button primary" onclick="addNewPlayer()">
                üë§ Add Player
            </button>
        </section>

        <!-- Team Overview -->
        <section class="glass-card mb-xl">
            <div class="p-lg">
                <h2 class="mb-lg" style="color: var(--accent-orange); font-size: var(--font-size-2xl);">
                    üìä Team Overview
                </h2>
                
                <div class="grid grid-4 gap-md">
                    <div class="text-center">
                        <div style="font-size: var(--font-size-3xl); font-weight: 700; color: var(--accent-orange);">6</div>
                        <div style="color: var(--text-secondary); font-size: var(--font-size-sm);">Total Players</div>
                    </div>
                    <div class="text-center">
                        <div style="font-size: var(--font-size-3xl); font-weight: 700; color: var(--accent-green);">98%</div>
                        <div style="color: var(--text-secondary); font-size: var(--font-size-sm);">Attendance Rate</div>
                    </div>
                    <div class="text-center">
                        <div style="font-size: var(--font-size-3xl); font-weight: 700; color: var(--accent-blue);">4.2</div>
                        <div style="color: var(--text-secondary); font-size: var(--font-size-sm);">Avg Skill Level</div>
                    </div>
                    <div class="text-center">
                        <div style="font-size: var(--font-size-3xl); font-weight: 700; color: var(--accent-amber);">5'8"</div>
                        <div style="color: var(--text-secondary); font-size: var(--font-size-sm);">Avg Height</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Player Cards Grid -->
        <section class="grid grid-3 gap-lg mb-xl" id="playerGrid">
            <!-- Players will be loaded here -->
        </section>

        <!-- Detailed Roster Table -->
        <section class="glass-card">
            <div class="p-lg">
                <h2 class="mb-lg" style="color: var(--accent-orange); font-size: var(--font-size-2xl);">
                    üìã Detailed Roster
                </h2>
                
                <table class="glass-table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Player</th>
                            <th>Position</th>
                            <th>Year</th>
                            <th>Height</th>
                            <th>Kills</th>
                            <th>Blocks</th>
                            <th>Aces</th>
                            <th>Digs</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="rosterTable">
                        <!-- Roster data will be loaded here -->
                    </tbody>
                </table>
            </div>
        </section>
    </main>

    <script>
        // Load player data
        async function loadPlayerData() {
            try {
                const response = await fetch('/api/players');
                const players = await response.json();
                
                // Load player cards
                const playerGrid = document.getElementById('playerGrid');
                players.forEach(player => {
                    const card = document.createElement('div');
                    card.className = 'player-card';
                    
                    const initials = player.firstName.charAt(0) + player.lastName.charAt(0);
                    const skillStars = '‚≠ê'.repeat(player.skillLevel);
                    
                    card.innerHTML = `
                        <div class="jersey-number">${player.jerseyNumber}</div>
                        <div class="player-avatar">${initials}</div>
                        <h3 style="color: var(--text-primary); margin-bottom: var(--spacing-xs);">
                            ${player.firstName} ${player.lastName}
                        </h3>
                        <div class="flex-between mb-md">
                            <span class="player-position">${player.position}</span>
                            <span style="color: var(--text-secondary);">${player.year}</span>
                        </div>
                        <div style="color: var(--text-secondary); margin-bottom: var(--spacing-md);">
                            Height: ${player.height} ‚Ä¢ Skill: ${skillStars}
                        </div>
                        
                        <div style="background: var(--glass-tertiary); border-radius: var(--radius-sm); padding: var(--spacing-sm); margin-bottom: var(--spacing-md);">
                            <div class="stat-mini">
                                <span style="color: var(--text-secondary);">Kills</span>
                                <span style="color: var(--accent-orange); font-weight: 600;">${player.stats.kills}</span>
                            </div>
                            <div class="stat-mini">
                                <span style="color: var(--text-secondary);">Blocks</span>
                                <span style="color: var(--accent-blue); font-weight: 600;">${player.stats.blocks}</span>
                            </div>
                            <div class="stat-mini">
                                <span style="color: var(--text-secondary);">Aces</span>
                                <span style="color: var(--accent-green); font-weight: 600;">${player.stats.aces}</span>
                            </div>
                            <div class="stat-mini">
                                <span style="color: var(--text-secondary);">Digs</span>
                                <span style="color: var(--accent-amber); font-weight: 600;">${player.stats.digs}</span>
                            </div>
                        </div>
                        
                        <button class="glass-button" onclick="viewPlayerProfile(${player.id})" style="width: 100%;">
                            View Profile
                        </button>
                    `;
                    
                    playerGrid.appendChild(card);
                });

                // Load roster table
                const rosterTable = document.getElementById('rosterTable');
                players.forEach(player => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td style="font-weight: 700; color: var(--accent-orange);">${player.jerseyNumber}</td>
                        <td>
                            <div style="font-weight: 600;">${player.firstName} ${player.lastName}</div>
                            <div style="color: var(--text-tertiary); font-size: var(--font-size-sm);">${player.year}</div>
                        </td>
                        <td>
                            <span class="player-position" style="font-size: 10px; padding: 1px 6px;">
                                ${player.position}
                            </span>
                        </td>
                        <td>${player.year}</td>
                        <td>${player.height}</td>
                        <td style="color: var(--accent-orange); font-weight: 600;">${player.stats.kills}</td>
                        <td style="color: var(--accent-blue); font-weight: 600;">${player.stats.blocks}</td>
                        <td style="color: var(--accent-green); font-weight: 600;">${player.stats.aces}</td>
                        <td style="color: var(--accent-amber); font-weight: 600;">${player.stats.digs}</td>
                        <td>
                            <button class="glass-button" onclick="viewPlayerProfile(${player.id})" 
                                    style="padding: 4px 8px; font-size: 12px;">
                                View
                            </button>
                        </td>
                    `;
                    rosterTable.appendChild(row);
                });
                
            } catch (error) {
                console.error('Error loading player data:', error);
            }
        }

        function addNewPlayer() {
            alert('Add New Player form would open here!');
        }

        function viewPlayerProfile(playerId) {
            // In a real app, this would navigate to player profile page
            alert(`Opening profile for player ${playerId}`);
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', () => {
            loadPlayerData();
        });
    </script>
</body>
</html>